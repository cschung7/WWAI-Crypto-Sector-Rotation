# Crypto Sector Rotation - Summary Cards ë° Long Term Trend ì¶”ê°€ ì‘ì—…ì§€ì‹œì„œ

**ì‘ì—…ì¼**: 2026-02-03
**ìƒíƒœ**: âœ… ì™„ë£Œ
**ë°°í¬**: https://agile-benevolence-production-2edb.up.railway.app/
**ì°¸ì¡°**: India revision_2026-02-02.md, Hong Kong revision_2026-02-03.md
**GitHub**: git@github.com:cschung7/WWAI-Crypto-Sector-Rotation.git

---

## ìµœì¢… ìƒíƒœ

| í•­ëª© | India/Hong Kong | Crypto | ìƒíƒœ |
|------|-----------------|--------|------|
| BB Filter ë°ì´í„° | `bb_filtered_tickers.json` | `bb_crossover_candidates.json` | âœ… ì™„ë£Œ |
| `/summary-cards` endpoint | 5ê°œ ì¹´ë“œ | 5ê°œ ì¹´ë“œ | âœ… ì™„ë£Œ |
| Long Term Trend í…Œì´ë¸” | `/bb-crossover` | `/supertrend-candidates` | âœ… ì™„ë£Œ |
| breakout.html 5ê°œ ì¹´ë“œ | âœ… | âœ… | âœ… ì™„ë£Œ |
| Regime ì»¬ëŸ¼ | âœ… regime_prob.csv | âŒ ì—†ìŒ (ìŠ¤í‚µ) | âœ… ì™„ë£Œ |
| Railway ë°°í¬ | âœ… | âœ… | âœ… ì™„ë£Œ |

---

## Crypto íŠ¹ìˆ˜ ì‚¬í•­

### Regime ë°ì´í„° ì—†ìŒ
- India/Hong Kong: `/mnt/nas/AutoGluon/AutoML_{market}/regime/results/regime_queries/regime_prob.csv`
- Crypto: regime ë””ë ‰í† ë¦¬ ì—†ìŒ â†’ Regime ì»¬ëŸ¼ ìŠ¤í‚µ

### BB Crossover êµ¬í˜„ ë°©ì‹ ì°¨ì´
- India/Hong Kong: `filter_bb.py` ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¯¸ë¦¬ ê³„ì‚° â†’ JSON íŒŒì¼ ë¡œë“œ
- Crypto: `compute_bb_crossovers()` í•¨ìˆ˜ë¡œ ì‹¤ì‹œê°„ ê³„ì‚° (HAS_PRICE_DATA ì²´í¬)

### ê°€ê²© ë°ì´í„° í˜•ì‹
- Crypto í‹°ì»¤: `BTC-USD.csv`, `ETH-USD.csv` ë“±
- ê²½ë¡œ: `/mnt/nas/AutoGluon/AutoML_Crypto/CRYPTONOTTRAINED/`

---

## ì‘ì—… ëª©ë¡

### 1. `/summary-cards` endpoint ì¶”ê°€
**íŒŒì¼**: `dashboard/backend/routers/breakout.py`

```python
@router.get("/summary-cards")
async def get_summary_cards():
    """Get summary card counts for dashboard"""
    # supertrend: BB crossover count
    # early_breakout: momentum > 0.05 + bull_ratio >= 0.5
    # high_priority: HIGH priority count
    # long_term_trend: BB crossover count (same as supertrend for crypto)
    # total: total categories
```

### 2. breakout.html 5ê°œ ì¹´ë“œ UI ì¶”ê°€
**íŒŒì¼**: `dashboard/frontend/breakout.html`

- Grid 5 columns: `grid-template-columns: repeat(5, 1fr);`
- ì¹´ë“œ: Super Trend, Early Breakout, High Priority, **Long Term Trend**, Total
- ìƒ‰ìƒ: green, blue, yellow, **pink**, purple

### 3. Long Term Trend Breakout í…Œì´ë¸” ì¶”ê°€ (ë˜ëŠ” SuperTrend í…Œì´ë¸” í™œìš©)
- í˜„ì¬ `/supertrend-candidates`ê°€ BB crossover ì—­í• 
- í…Œì´ë¸” ëª…ì¹­ì„ "Long Term Trend Breakout" ë˜ëŠ” "SuperTrend (BB 220,2)"ë¡œ í†µì¼

### 4. Railway ë°°í¬
- Railway í”„ë¡œì íŠ¸ ìƒì„±
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- ë°°í¬ ë° í…ŒìŠ¤íŠ¸

---

## ì‘ì—… ìˆœì„œ

- [x] 1ë‹¨ê³„: `/summary-cards` endpoint ì¶”ê°€ âœ…
- [x] 2ë‹¨ê³„: breakout.html 5ê°œ ì¹´ë“œ UI ì¶”ê°€ âœ…
- [x] 3ë‹¨ê³„: Long Term Trend í…Œì´ë¸” ì„¹ì…˜ ì •ë¦¬ âœ… (SuperTrend â†’ Long Term Trend Breakout)
- [x] 4ë‹¨ê³„: ë¡œì»¬ í…ŒìŠ¤íŠ¸ (port 8003) âœ…
  - summary-cards: long_term_trend: 6 âœ“
  - supertrend-candidates: 6ê°œ í‹°ì»¤ (VNXAU, PAXG, XAUT, CGO ë“±) âœ“
- [x] 5ë‹¨ê³„: Git commit âœ… (commit: c02ee50)
- [x] 6ë‹¨ê³„: Railway ë°°í¬ âœ… (commit: c83a6d0 - bb_upper fix)
- [x] 7ë‹¨ê³„: Railway í…ŒìŠ¤íŠ¸ âœ…
  - summary-cards: long_term_trend: 6 âœ“
  - supertrend-candidates: 6ê°œ í‹°ì»¤ ë°˜í™˜ âœ“
  - URL: https://agile-benevolence-production-2edb.up.railway.app/

---

## India/Hong Kong vs Crypto íŒŒë¼ë¯¸í„° ë¹„êµ

| íŒŒë¼ë¯¸í„° | India | Hong Kong | Crypto |
|----------|-------|-----------|--------|
| BB Period | 220ì¼ | 220ì¼ | 220ì¼ |
| BB Multiplier | 2.0 | 2.0 | 2.0 |
| Min Price | 100 INR | 1 HKD | $5 USD |
| í‹°ì»¤ í˜•ì‹ | `RELIANCE.NS` | `0700.HK` | `BTC-USD` |
| ê°€ê²© ë°ì´í„° | INDIANOTTRAINED | HONGKONGNOTTRAINED | CRYPTONOTTRAINED |
| Regime ë°ì´í„° | âœ… regime_prob.csv | âœ… regime_prob.csv | âŒ ì—†ìŒ |
| í†µí™” | INR (â‚¹) | HKD ($) | USD ($) |
| ì¹´í…Œê³ ë¦¬ ìˆ˜ | 94 GICS | 94 GICS | 228 CoinGecko |
| Dashboard Port | 8005 | 8004 | 8003 |

---

## ì°¸ê³  ê²½ë¡œ

### AutoML ë°ì´í„°
```
/mnt/nas/AutoGluon/AutoML_Crypto/
â”œâ”€â”€ CRYPTONOTTRAINED/           # ê°€ê²© ë°ì´í„° (BTC-USD.csv ë“±)
â”œâ”€â”€ Filter/
â”‚   â””â”€â”€ bb_filtered_tickers.json  # âœ… BB Filter ê²°ê³¼
â””â”€â”€ DB/                           # ë°ì´í„°ë² ì´ìŠ¤
```

### Dashboard í”„ë¡œì íŠ¸
```
/mnt/nas/WWAI/Sector-Rotation/Sector-Rotation-Crypto/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ backend/routers/breakout.py   # ìˆ˜ì • ëŒ€ìƒ
â”‚   â””â”€â”€ frontend/breakout.html        # ìˆ˜ì • ëŒ€ìƒ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ actionable_tickers_*.csv
â”‚   â””â”€â”€ consolidated_ticker_analysis_*.json
â””â”€â”€ revisions/
    â””â”€â”€ revision_2026-02-03.md        # ì´ íŒŒì¼
```

---

## ì˜ˆìƒ ê²°ê³¼

### API Endpoints (ì™„ë£Œ í›„)
```bash
# Summary Cards
curl "http://localhost:8003/api/breakout/summary-cards"
# {"supertrend": X, "early_breakout": X, "high_priority": X, "long_term_trend": X, "total": 228}

# SuperTrend / BB Crossover (ê¸°ì¡´)
curl "http://localhost:8003/api/breakout/supertrend-candidates"
# BB(220, 2.0) crossover candidates
```

---

## Global Dashboard Network

| Market | Flag | Dashboard URL | Port | Status |
|--------|------|---------------|------|--------|
| **USA** | ğŸ‡ºğŸ‡¸ | https://wwai-usa-sector-rotation-production.up.railway.app | 8001 | âœ… Live |
| **Korea (KRX)** | ğŸ‡°ğŸ‡· | https://wwai-krx-sector-rotation-production.up.railway.app | 8000 | âœ… Live |
| **Japan** | ğŸ‡¯ğŸ‡µ | https://web-production-5e98f.up.railway.app | 8002 | âœ… Live |
| **China** | ğŸ‡¨ğŸ‡³ | https://web-production-14009.up.railway.app | 8003 | âœ… Live |
| **India** | ğŸ‡®ğŸ‡³ | https://wwai-india-sector-rotation-production.up.railway.app | 8005 | âœ… Live |
| **Hong Kong** | ğŸ‡­ğŸ‡° | https://backend-production-be465.up.railway.app | 8004 | âœ… Live |
| **Crypto** | â‚¿ | https://agile-benevolence-production-2edb.up.railway.app | 8003 | âœ… Live |

---

## ê´€ë ¨ Commits

| Commit | ë©”ì‹œì§€ |
|--------|--------|
| c02ee50 | Add summary-cards endpoint and 5-card UI for Crypto |
| c83a6d0 | Fix bb_upper key error for Railway deployment |
| b3f594d | Complete Railway deployment for Crypto |
